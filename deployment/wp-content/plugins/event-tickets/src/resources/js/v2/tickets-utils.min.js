/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

tribe.tickets=tribe.tickets||{},tribe.tickets.utils={},function($,obj){const $document=$(document);obj.disable=function($element,isDisabled){isDisabled?$element.prop("disabled",!0).attr({disabled:"true","aria-disabled":"true"}):$element.prop("disabled",!1).removeProp("disabled").removeAttr("disabled aria-disabled")},obj.getRestEndpoint=function(){return TribeCartEndpoint.url},obj.getCurrencyFormatting=function(provider){return JSON.parse(TribeCurrency.formatting)[provider]},obj.cleanNumber=function(passedNumber,provider){let number=passedNumber;const format=obj.getCurrencyFormatting(provider);if(0===parseInt(format.number_of_decimals)&&""===format.thousands_sep)return number;if(format.thousands_sep===format.decimal_point){const decPlace=number.length-(format.number_of_decimals+1);number=number.substr(0,decPlace)+"_"+number.substr(decPlace+1),""!==format.thousands_sep&&(number=number.split(format.thousands_sep).join("")),number=number.split("_").join(".")}else""!==format.thousands_sep&&(number=number.split(format.thousands_sep).join("")),""!==format.decimal_point&&(number=number.split(format.decimal_point).join("."));return number},obj.numberFormat=function(number,provider){const format=obj.getCurrencyFormatting(provider);if(!format)return!1;const decimals=format.number_of_decimals,decPoint=format.decimal_point,thousandsSep=format.thousands_sep,n=isFinite(+number)?+number:0,prec=isFinite(+decimals)?Math.abs(decimals):0,sep=void 0===thousandsSep?",":thousandsSep,dec=void 0===decPoint?".":decPoint,s=(prec?function(num,precision){const k=Math.pow(10,precision);return Math.round(num*k)/k}(n,prec):Math.round(n)).toString().split(".");return s[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)),(s[1]||"").length<prec&&(s[1]=s[1]||"",s[1]+=new Array(prec-s[1].length+1).join("0")),s.join(dec)},obj.getTicketsFormFromPostId=function(postId){return $document.find(tribe.tickets.block.selectors.form+'[data-post-id="'+postId+'"]')},obj.getTicketsProviderFromPostId=function(postId){return obj.getTicketsFormFromPostId(postId).data("provider")||!1},obj.getTicketsProviderIdFromPostId=function(postId){return obj.getTicketsFormFromPostId(postId).data("provider-id")||!1},obj.getTicketsPostId=function(){return $(tribe.tickets.block.selectors.form)[0].getAttribute("data-post-id")||!1},obj.getPrice=function($ticketItem,provider){if(!$ticketItem)return 0;const realPrice=$ticketItem.data("ticket-price"),formattedPrice=$ticketItem.find(".tribe-tickets__tickets-sale-price .tribe-amount").text(),priceString=isNaN(realPrice)?obj.cleanNumber(formattedPrice,provider):realPrice;return parseFloat(priceString)},obj.calculateSharedCap=function(targetQty,targetAvailable,maxAvailable,addedToCart){const maxLimit=maxAvailable-addedToCart;return targetQty<=targetAvailable&&targetQty<=maxLimit?targetQty:targetQty>targetAvailable?targetAvailable<=maxLimit?targetAvailable:0:maxLimit}}(jQuery,tribe.tickets.utils);