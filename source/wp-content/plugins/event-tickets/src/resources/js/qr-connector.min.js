/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

tribe.tickets=tribe.tickets||{},tribe.tickets.admin=tribe.tickets.admin||{},function($){const obj=tribe.tickets.admin.qrConnector={};obj.selectors={trigger:"[data-tickets-qr-connector]",message:"[data-tickets-qr-connector-message]",image:"[data-tickets-qr-connector-image]",input:"[data-tickets-qr-connector-input]"},obj.ready=()=>{obj.bind()},obj.bind=()=>{$(document).on("click",obj.selectors.trigger,obj.onTriggerClick)},obj.onTriggerClick=event=>{event.preventDefault();const $trigger=$(event.currentTarget),containerSelector=$trigger.data("tickets-qr-connector-container"),$container=$trigger.parents(containerSelector).eq(0);confirm($container.find(obj.selectors.message).text().trim())&&obj.doAjaxRequest($trigger)},obj.doAjaxRequest=$trigger=>{const ajaxAction=$trigger.data("tickets-qr-connector-action"),nonce=$trigger.data("tickets-qr-connector-nonce"),containerSelector=$trigger.data("tickets-qr-connector-container"),$container=$trigger.parents(containerSelector).eq(0),$message=$container.find(obj.selectors.message),$image=$container.find(obj.selectors.image),$input=$container.find(obj.selectors.input),request={action:ajaxAction,confirm:nonce};$trigger.prop("disabled",!0),$image.css("opacity",.1),$input.val("--------"),$.post(ajaxurl,request,(results=>{results.success?($message.html('<p class="optin-success">'+results.data.msg+"</p>"),$input.val(results.data.key),$image.attr("src",results.data.qr_src)):$message.html('<p class="optin-fail">'+results.data+"</p>"),$trigger.prop("disabled",!1),$image.css("opacity",1)}))},$(obj.ready)}(jQuery);