/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

tribe.tickets=tribe.tickets||{},tribe.tickets.commerce=tribe.tickets.commerce||{},tribe.tickets.commerce.gateway=tribe.tickets.commerce.gateway||{},tribe.tickets.commerce.gateway.paypal=tribe.tickets.commerce.gateway.paypal||{},tribe.tickets.commerce.gateway.paypal.signup={},function($,obj){"use strict";$(document);obj.onboardNonce=tecTicketsCommerceGatewayPayPalSignup.onboardNonce,obj.refreshConnectNonce=tecTicketsCommerceGatewayPayPalSignup.refreshConnectNonce,obj.onboardingEndpointUrl=tecTicketsCommerceGatewayPayPalSignup.onboardingEndpointUrl,obj.selectors={button:".tec-tickets__admin-settings-tickets-commerce-paypal-connect-button-link",countryField:'[name="tec-tickets-commerce-gateway-paypal-merchant-country"]'},obj.onboardedCallback=(authCode,sharedId)=>{fetch(obj.onboardingEndpointUrl,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({auth_code:authCode,shared_id:sharedId,nonce:obj.onboardNonce})})},obj.onCountryChange=function(event){const $field=$(this),$button=$(obj.selectors.button);$button.addClass("disabled"),fetch(ajaxurl+"?action=tec_tickets_commerce_gateway_paypal_refresh_connect_url&nonce="+obj.refreshConnectNonce+"&country_code="+$field.val(),{method:"GET",headers:{"content-type":"application/json"}}).then((function(response){return response.json()})).then((function(res){!0===res.success&&$button.prop("href",res.data.new_url),$button.removeClass("disabled")}))},obj.setup=()=>{$(obj.selectors.countryField).on("change",obj.onCountryChange)},obj.ready=()=>{obj.setup()},$(obj.ready)}(jQuery,tribe.tickets.commerce.gateway.paypal.signup),tecTicketsCommerceGatewayPayPalSignupCallback=tribe.tickets.commerce.gateway.paypal.signup.onboardedCallback;