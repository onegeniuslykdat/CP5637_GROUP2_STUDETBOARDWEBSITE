/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

tribe.tickets=tribe.tickets||{},tribe.dialogs=tribe.dialogs||{},tribe.dialogs.events=tribe.dialogs.events||{},tribe.tickets.emails={},function($,obj){const $document=$(document);obj.selectors={modalWrapper:".tribe-modal__wrapper--emails-preview",modalTitle:".tribe-modal__title",modalContent:".tribe-modal__content",form:".tribe-tickets__manual-attendees-form",hiddenElement:".tribe-common-a11y-hidden",formCurrentEmail:"tec_tickets_emails_current_section",formHeaderImageUrl:"tec-tickets-emails-header-image-url",formHeaderImageAlignment:"tec-tickets-emails-header-image-alignment",formTicketBgColorName:"tec-tickets-emails-ticket-bg-color",formHeaderBgColorName:"tec-tickets-emails-header-bg-color",formFooterContent:"tec-tickets-emails-footer-content",formFooterCredit:"tec-tickets-emails-footer-credit",formQrCodes:"tec-tickets-emails-ticket-include-qr-codes"},obj.modalClose=function(event,dialogEl){const $modalContent=$(dialogEl).find(obj.selectors.modalContent);obj.unbindModalEvents($modalContent)},obj.bindModalClose=function(){$(tribe.dialogs.events).on("tribeDialogCloseEmailsPreviewModal.tribeTickets",obj.modalClose)},obj.bindModalEvents=(event,jqXHR,settings)=>{},obj.unbindModalEvents=function($container){$container.off("afterAjaxSuccess.tribeTicketsAdmin",obj.bindModalEvents),$container.off()},obj.modalOpen=function(event,dialogEl,trigger){const $modal=$(dialogEl),title=$(trigger.target).closest("button").data("modal-title");if(title){$modal.find(obj.selectors.modalTitle).html(title)}const $modalContent=$modal.find(obj.selectors.modalContent),data={...{action:"tribe_tickets_admin_manager",request:"tec_tickets_preview_email"},...obj.getSettingsContext()};tribe.tickets.admin.manager.request(data,$modalContent),$modalContent.on("afterAjaxSuccess.tribeTicketsAdmin",{container:$modalContent,requestData:data},obj.bindModalEvents)},obj.getSettingsContext=function(){const context={},tinyMCE=window.tinyMCE||void 0,currentEmail=$document.find("input[name="+obj.selectors.formCurrentEmail+"]").val();if(context.currentEmail=currentEmail,currentEmail){const fieldReducer=(ctx,el,fieldPrefix)=>(ctx[el.name.replace(`${fieldPrefix}-`,"").replace(/-([a-z])/g,(g=>g[1].toUpperCase())).replace(/\[]$/,"")]="checkbox"===el.type?el.checked:el.value,ctx);context.useTicketEmail=!1;const ticketOptionPrefix="tec-tickets-emails-ticket";Array.from($document.find("input[name^="+ticketOptionPrefix+"]")).reduce(((ctx,el)=>fieldReducer(ctx,el,ticketOptionPrefix)),context);const currentEmailOptionPrefix=currentEmail.replace(/_/g,"-");Array.from($document.find("input[name^="+currentEmailOptionPrefix+"]")).reduce(((ctx,el)=>fieldReducer(ctx,el,currentEmailOptionPrefix)),context),context.addContent=void 0!==tinyMCE?tinyMCE.get(currentEmailOptionPrefix+"-additional-content").getContent():""}else{const ticketBgColor=$document.find("input[name="+obj.selectors.formTicketBgColorName+"]").val();context.ticketBgColor=ticketBgColor;const headerBgColor=$document.find("input[name="+obj.selectors.formHeaderBgColorName+"]").val();context.headerBgColor=headerBgColor;const headerImageUrl=$document.find("input[name="+obj.selectors.formHeaderImageUrl+"]").val();context.headerImageUrl=headerImageUrl;const headerImageAlignment=$document.find("select[name="+obj.selectors.formHeaderImageAlignment+"]").val();context.headerImageAlignment=headerImageAlignment;const footerCredit=$document.find("input[name="+obj.selectors.formFooterCredit+"]").is(":checked");context.footerCredit=footerCredit,context.footerContent=void 0!==tinyMCE?tinyMCE.get(obj.selectors.formFooterContent).getContent():"",context.eventLinks=!0,context.qrCodes=!0,context.arFields=!0}return context},obj.bindModalOpen=function(){$(tribe.dialogs.events).on("tribeDialogShowEmailsPreviewModal.tribeTickets",obj.modalOpen)},obj.ready=function(){obj.bindModalOpen(),obj.bindModalClose()},$document.ready(obj.ready)}(jQuery,tribe.tickets.emails);